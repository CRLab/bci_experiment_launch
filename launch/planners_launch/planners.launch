<launch>

    <arg name="graspit_url" default="picard.cs.columbia.edu" />
    <arg name="use_robot_hw" default="False" />
    <arg name="use_filtered_pointcloud_topic" default="False" />
    <arg name="use_moveit" default="True"/>
    <arg name="use_mico" default="False" />

    <param name="use_robot_hw" value="$(arg use_robot_hw)" />
    <param name="graspit_pointcloud_topic" value="/filtered_pc" if="$(arg use_filtered_pointcloud_topic)" />
    <param name="graspit_pointcloud_topic" value="/camera/depth_registered/points" unless="$(arg use_filtered_pointcloud_topic)" />


    <node name="graspit_ros_server" pkg="graspit_python_node" type="graspit_ros_server.py" >
        <param name="graspit_url" value="$(arg graspit_url)" />
    </node>


    <node name="graspit_proto_server" pkg="graspit_python_node" type="graspit_ros_pointcloud_relay.py" />


    <group if="$(arg use_moveit)" >
        <group unless="$(arg use_mico)">
            <rosparam param="home_joint_values">[0,0,0,0,0,0]</rosparam>
	        <include file="$(find staubli_barretthand_moveit_config)/launch/staubli_bhand_rviz_interface.launch">
    		     <arg name="fake_execution" value="true" unless="$(arg use_robot_hw)"/>
		     <arg name="fake_execution" value="false" if="$(arg use_robot_hw)"/>

		 </include>
         </group>

	 <group if="$(arg use_mico)">
         	 <rosparam param="home_joint_values">[4.6267266273498535, -1.6593461667240315, 0.1944244748554111, 5.171727657318115, 1.6053062677383423, 3.4033920764923096]</rosparam>
		 <include file="$(find mico_moveit_config)/launch/mico_moveit.launch"/>
	    </group>

        <include file="$(find moveit_trajectory_planner)/launch/moveit_trajectory_planner.launch"/>
    </group>

    <group unless="$(arg use_moveit)">
        <!-- launch openrave planner here -->
    </group>

</launch>
